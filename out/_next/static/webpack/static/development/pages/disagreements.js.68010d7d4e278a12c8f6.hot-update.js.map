{"version":3,"file":"static/webpack/static/development/pages/disagreements.js.68010d7d4e278a12c8f6.hot-update.js","sources":["webpack:///./pages/disagreements.js"],"sourcesContent":["import React from 'react'\nimport Link from 'next/Link'\nimport * as chroma from 'chroma-js'\nimport Bar from '../parts/Bar'\nimport {\n  red,\n  blue,\n  scaleRed,\n  scaleBlue,\n  readableSentiment,\n  class_labels,\n  Border,\n} from '../parts/Static'\nimport getConfig from 'next-server/config'\nimport Reviews from '../parts/Reviews'\nimport * as _ from 'lodash'\n\nlet linkPrefix = process.env.BACKEND_URL\n\nclass Disagree extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      show_all: false,\n    }\n  }\n\n  render() {\n    let {\n      font_size,\n      line_height,\n      grem,\n      analyze,\n      info,\n      reviews,\n      setAnalyze,\n      sort,\n      setSort,\n      show_accuracy,\n      nbsvm_data,\n      data,\n      hl_options,\n      setAccuracy,\n      compare,\n      review_sort,\n      setReviewSort,\n      setCompare,\n    } = this.props\n    let { show_all } = this.state\n\n    compare = true\n\n    let disagreements = []\n    let ndisagreements = []\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].class !== nbsvm_data[i].class) {\n        disagreements.push(data[i])\n        ndisagreements.push(nbsvm_data[i])\n      }\n    }\n\n    disagreements = _.sortBy(disagreements, 'date')\n    ndisagreements = _.sortBy(ndisagreements, 'date')\n\n    return (\n      <div>\n        <Bar\n          grem={grem}\n          setAnalyze={setAnalyze}\n          analyze={analyze}\n          setAlgo={this.props.setAlgo}\n          algnames={this.props.algnames}\n          data_select={this.props.data_select}\n          show_accuracy={true}\n          setAccuracy={setAccuracy}\n          compare={true}\n          setCompare={setCompare}\n          data={disagreements}\n          nbsvm_data={ndisagreements}\n          hl_options={hl_options}\n          analyze_locked={true}\n        />\n\n        <div\n          style={{\n            maxWidth: 700,\n            padding: grem / 2,\n            margin: `0 auto`,\n          }}\n        >\n          <div style={{}}>\n            Reviews where the NBSVM and BERT classification disagree:\n          </div>\n        </div>\n\n        <div>\n          <div\n            style={{\n              position: 'relative',\n              background: hl_options.highlight_reviews_block ? '#eee' : 'white',\n              transition: 'background 0.1s linear',\n            }}\n          >\n            {compare ? <Border /> : null}\n            <div\n              style={{\n                maxWidth: compare ? 700 * 2 + grem + 2 : 700,\n                margin: '0 auto',\n                display: compare ? 'grid' : 'block',\n                gridTemplateColumns: '1fr 1fr',\n              }}\n            >\n              {compare ? (\n                <div style={{ borderRight: 'solid 1px black' }}>\n                  <Reviews\n                    reviews={\n                      show_all ? ndisagreements : ndisagreements.slice(0, 40)\n                    }\n                    grem={grem}\n                    analyze={analyze}\n                    show_accuracy={show_accuracy}\n                    review_sort={'date'}\n                    setReviewSort={setReviewSort}\n                    info={info}\n                    show_title={true}\n                  />\n                </div>\n              ) : null}\n              <div style={{ borderLeft: compare ? 'solid 1px black' : 'none' }}>\n                <Reviews\n                  reviews={\n                    show_all ? disagreements : disagreements.slice(0, 40)\n                  }\n                  grem={grem}\n                  analyze={analyze}\n                  show_accuracy={true}\n                  review_sort={'date'}\n                  setReviewSort={setReviewSort}\n                  info={info}\n                  show_title={true}\n                />\n              </div>\n            </div>\n          </div>\n          <Border />\n        </div>\n        {!show_all ? (\n          <div style={{ maxWidth: 700, margin: '0 auto', padding: grem / 2 }}>\n            <button\n              style={{\n                textDecoration: 'underline',\n              }}\n              onClick={() => {\n                this.setState({ show_all: true })\n              }}\n            >\n              show all\n            </button>\n          </div>\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Disagree\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AACA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;;;;AA/IA;AACA;AAiJA;;;;A","sourceRoot":""}